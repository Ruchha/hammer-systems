(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{481:function(e,t,s){"use strict";var a=s(486),r=s.n(a),n=s(25),c=s(487).a(),i=s(29),l=s(274);const o=r.a.create({baseURL:n.a,timeout:6e4}),m="/auth/login";o.interceptors.request.use((e=>{const t=localStorage.getItem(i.b);return t&&(e.headers.authorization=t),t||e.headers["public-request"]||(c.push(m),window.location.reload()),e}),(e=>{l.a.error({message:"Error"}),Promise.reject(e)})),o.interceptors.response.use((e=>e.data),(e=>{let t={message:""};return 400!==e.response.status&&403!==e.response.status||(t.message="Authentication Fail",t.description="Please login again",localStorage.removeItem(i.b),c.push(m),window.location.reload()),404===e.response.status&&(t.message="Not Found"),500===e.response.status&&(t.message="Internal Server Error"),508===e.response.status&&(t.message="Time Out"),l.a.error(t),Promise.reject(e)}));t.a=o},636:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(45),n=s(5);function c(){return Object(n.jsx)("div",{children:"Groups"})}var i=s(273),l=s(654),o=s(199),m=s(126),d=s(649),j=s(648),u=s(210),b=s(481);const h={fetchAll:async()=>await Object(b.a)({url:"/users",method:"get",headers:{"public-request":"true"}})};var x=h,p=s(115),O=s(652),g=s(517),y=s(518),w=s(452),f=s(31),I=s(171);class v extends a.Component{getBase64(e,t){const s=new FileReader;s.addEventListener("load",(()=>t(s.result))),s.readAsDataURL(e)}render(){const{close:e}=this.props,{name:t,username:s,email:a,address:r,phone:c,website:l,company:o}=this.props.user,{street:d,city:j,zipcode:u}=r;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(I.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:Object(n.jsx)("div",{className:"ml-md-3 mt-md-0 mt-3"})}),Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsx)(m.a,{className:"ml-4",onClick:e,children:"Go Back"}),Object(n.jsx)(O.a,{name:"basicInformation",layout:"vertical",className:"p-4",initialValues:{name:t,username:s,email:a,street:d,city:j,zipcode:u,phone:c,website:l,company:o},onFinish:t=>{const s="updatable";i.b.loading({content:"Updating...",key:s}),setTimeout((()=>{this.setState({name:t.name,email:t.email,userName:t.userName,dateOfBirth:t.dateOfBirth,phoneNumber:t.phoneNumber,website:t.website,address:t.address,city:t.city,postcode:t.postcode}),i.b.success({content:"Done!",key:s,duration:2})}),1e3),setTimeout((()=>{e()}),2e3)},onFinishFailed:e=>{console.log("Failed:",e)},children:Object(n.jsx)(g.a,{align:"center",children:Object(n.jsxs)(y.a,{xs:24,sm:24,md:24,lg:16,children:[Object(n.jsxs)(g.a,{gutter:f.c,children:[Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Phone Number",name:"phone",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Website",name:"website",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:24,children:Object(n.jsx)(O.a.Item,{label:"Street",name:"street",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"City",name:"city",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Post code",name:"zipcode",children:Object(n.jsx)(w.a,{})})})]}),Object(n.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})]})]})}}var N=v,P=s(561),C=s.n(P);class S extends a.Component{constructor(){super(...arguments),this.state={users:[],userProfileVisible:!1,selectedUser:null,isLoading:!0},this.deleteUser=e=>{this.setState({users:this.state.users.filter((t=>t.id!==e))}),i.b.success({content:"Deleted user ".concat(e),duration:2})},this.showUserProfile=e=>{this.setState({userProfileVisible:!0,selectedUser:e})},this.closeUserProfile=()=>{this.setState({userProfileVisible:!1,selectedUser:null})}}componentDidMount(){x.fetchAll().then((e=>this.setState({users:e}))).catch((e=>{console.log(e)})).finally((()=>{this.setState({isLoading:!1})}))}render(){const{users:e,userProfileVisible:t,selectedUser:s,isLoading:a}=this.state,r=[{title:"Client",dataIndex:"name",render:(e,t)=>Object(n.jsxs)("div",{className:"d-flex",style:{flexDirection:"column"},children:[Object(n.jsx)(C.a,{children:t.name}),Object(n.jsx)(C.a,{type:"secondary",children:t.email})]}),sorter:{compare:(e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}},{title:"Company",dataIndex:"company",render:e=>Object(n.jsx)("span",{children:e.name}),sorter:{compare:(e,t)=>(e=e.name.toLowerCase().length)>(t=t.name.toLowerCase().length)?-1:t>e?1:0}},{title:"Website",dataIndex:"website",sorter:{compare:(e,t)=>(e=e.name.toLowerCase().length)>(t=t.name.toLowerCase().length)?-1:t>e?1:0}},{title:"Tags",dataIndex:"company",render:e=>e.bs.split(" ").map((e=>Object(n.jsx)(l.a,{className:"text-capitalize",children:e},e)))},{title:"",dataIndex:"actions",render:(e,t)=>Object(n.jsx)("div",{className:"text-right",children:Object(n.jsx)(o.a,{title:"View",children:Object(n.jsx)(m.a,{type:"primary",className:"mr-2",icon:Object(n.jsx)(u.a,{}),onClick:()=>{this.showUserProfile(t)},size:"small"})})})}];return Object(n.jsx)(d.a,{bodyStyle:{padding:"0px"},children:t?Object(n.jsx)(N,{user:s,close:()=>this.closeUserProfile()}):Object(n.jsx)(j.a,{columns:r,dataSource:e,rowKey:"id",loading:{indicator:Object(n.jsx)(p.a,{}),spinning:a}})})}}var U=S;t.default=e=>{const{match:t}=e;return Object(n.jsxs)(r.Switch,{children:[Object(n.jsx)(r.Redirect,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/list")}),Object(n.jsx)(r.Route,{path:"".concat(t.url,"/client-groups"),component:c}),Object(n.jsx)(r.Route,{path:"".concat(t.url,"/client-list"),component:U})]})}}}]);
//# sourceMappingURL=15.7c991efa.chunk.js.map