(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{479:function(e,s,t){"use strict";var a=t(484),r=t.n(a),n=t(25),c=t(485).a(),i=t(29),l=t(272);const o=r.a.create({baseURL:n.a,timeout:6e4}),m="/auth/login";o.interceptors.request.use((e=>{const s=localStorage.getItem(i.b);return s&&(e.headers.authorization=s),s||e.headers["public-request"]||(c.push(m),window.location.reload()),e}),(e=>{l.a.error({message:"Error"}),Promise.reject(e)})),o.interceptors.response.use((e=>e.data),(e=>{let s={message:""};return 400!==e.response.status&&403!==e.response.status||(s.message="Authentication Fail",s.description="Please login again",localStorage.removeItem(i.b),c.push(m),window.location.reload()),404===e.response.status&&(s.message="Not Found"),500===e.response.status&&(s.message="Internal Server Error"),508===e.response.status&&(s.message="Time Out"),l.a.error(s),Promise.reject(e)}));s.a=o},634:function(e,s,t){"use strict";t.r(s);var a=t(0),r=t(47),n=t(5);function c(){return Object(n.jsx)("div",{children:"Groups"})}var i=t(271),l=t(652),o=t(198),m=t(124),d=t(647),j=t(646),u=t(209),b=t(479);const h={fetchAll:async()=>await Object(b.a)({url:"/users",method:"get",headers:{"public-request":"true"}})};var x=h,p=t(114),O=t(650),g=t(515),y=t(516),w=t(450),f=t(31),I=t(169);class v extends a.Component{getBase64(e,s){const t=new FileReader;t.addEventListener("load",(()=>s(t.result))),t.readAsDataURL(e)}render(){const{close:e}=this.props,{name:s,username:t,email:a,address:r,phone:c,website:l,company:o}=this.props.user,{street:d,city:j,zipcode:u}=r;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(I.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:Object(n.jsx)("div",{className:"ml-md-3 mt-md-0 mt-3"})}),Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsx)(m.a,{className:"ml-4",onClick:e,children:"Go Back"}),Object(n.jsx)(O.a,{name:"basicInformation",layout:"vertical",className:"p-4",initialValues:{name:s,username:t,email:a,street:d,city:j,zipcode:u,phone:c,website:l,company:o},onFinish:s=>{const t="updatable";i.b.loading({content:"Updating...",key:t}),setTimeout((()=>{this.setState({name:s.name,email:s.email,userName:s.userName,dateOfBirth:s.dateOfBirth,phoneNumber:s.phoneNumber,website:s.website,address:s.address,city:s.city,postcode:s.postcode}),i.b.success({content:"Done!",key:t,duration:2})}),1e3),setTimeout((()=>{e()}),2e3)},onFinishFailed:e=>{console.log("Failed:",e)},children:Object(n.jsx)(g.a,{align:"center",children:Object(n.jsxs)(y.a,{xs:24,sm:24,md:24,lg:16,children:[Object(n.jsxs)(g.a,{gutter:f.c,children:[Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Phone Number",name:"phone",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Website",name:"website",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:24,children:Object(n.jsx)(O.a.Item,{label:"Street",name:"street",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"City",name:"city",children:Object(n.jsx)(w.a,{})})}),Object(n.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(n.jsx)(O.a.Item,{label:"Post code",name:"zipcode",children:Object(n.jsx)(w.a,{})})})]}),Object(n.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})]})]})}}var N=v,P=t(559),C=t.n(P);class S extends a.Component{constructor(){super(...arguments),this.state={users:[],userProfileVisible:!1,selectedUser:null,isLoading:!0},this.deleteUser=e=>{this.setState({users:this.state.users.filter((s=>s.id!==e))}),i.b.success({content:"Deleted user ".concat(e),duration:2})},this.showUserProfile=e=>{this.setState({userProfileVisible:!0,selectedUser:e})},this.closeUserProfile=()=>{this.setState({userProfileVisible:!1,selectedUser:null})}}componentDidMount(){x.fetchAll().then((e=>this.setState({users:e}))).catch((e=>{console.log(e)})).finally((()=>{this.setState({isLoading:!1})}))}render(){const{users:e,userProfileVisible:s,selectedUser:t,isLoading:a}=this.state,r=[{title:"Client",dataIndex:"name",render:(e,s)=>Object(n.jsxs)("div",{className:"d-flex",style:{flexDirection:"column"},children:[Object(n.jsx)(C.a,{children:s.name}),Object(n.jsx)(C.a,{type:"secondary",children:s.email})]}),sorter:{compare:(e,s)=>(e=e.name.toLowerCase())>(s=s.name.toLowerCase())?-1:s>e?1:0}},{title:"Company",dataIndex:"company",render:e=>Object(n.jsx)("span",{children:e.name}),sorter:{compare:(e,s)=>(e=e.name.toLowerCase().length)>(s=s.name.toLowerCase().length)?-1:s>e?1:0}},{title:"Website",dataIndex:"website",sorter:{compare:(e,s)=>(e=e.name.toLowerCase().length)>(s=s.name.toLowerCase().length)?-1:s>e?1:0}},{title:"Tags",dataIndex:"company",render:e=>e.bs.split(" ").map((e=>Object(n.jsx)(l.a,{className:"text-capitalize",children:e},e)))},{title:"",dataIndex:"actions",render:(e,s)=>Object(n.jsx)("div",{className:"text-right",children:Object(n.jsx)(o.a,{title:"View",children:Object(n.jsx)(m.a,{type:"primary",className:"mr-2",icon:Object(n.jsx)(u.a,{}),onClick:()=>{this.showUserProfile(s)},size:"small"})})})}];return Object(n.jsx)(d.a,{bodyStyle:{padding:"0px"},children:s?Object(n.jsx)(N,{user:t,close:()=>this.closeUserProfile()}):Object(n.jsx)(j.a,{columns:r,dataSource:e,rowKey:"id",loading:{indicator:Object(n.jsx)(p.a,{}),spinning:a}})})}}var U=S;s.default=e=>{const{match:s}=e;return Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.a,{exact:!0,from:"".concat(s.url),to:"".concat(s.url,"/list")}),Object(n.jsx)(r.b,{path:"".concat(s.url,"/client-groups"),component:c}),Object(n.jsx)(r.b,{path:"".concat(s.url,"/client-list"),component:U})]})}}}]);
//# sourceMappingURL=15.498122d5.chunk.js.map